<apex:page sidebar="false" showHeader="false">
<script src="{!URLFOR($Resource.bridge,'cordova.js')}"></script>
<script src="{!URLFOR($Resource.bridge,'force.js')}"></script>
<apex:includeLightning />
<div id="container"></div>

<script>
    force.login(
    () => {
        console.log("Auth succeeded"); 
        
        const mobilesdk = {
            "cordova": cordova,
            "force": force,
            "oauth": cordova.require("com.salesforce.plugin.oauth"),
            "sfaccountmanager": cordova.require("com.salesforce.plugin.sfaccountmanager"),
            "sdkinfo": cordova.require("com.salesforce.plugin.sdkinfo"),
            "smarstore": cordova.require("com.salesforce.plugin.smartstore.client"),
            "smartsync": cordova.require("com.salesforce.plugin.smartsync"),
            "network": cordova.require("com.salesforce.plugin.network")
        };
        
        $Lightning.use("c:LightningDependencyApp", () => {
            $Lightning.createComponent(
            "c:ContactList", 
            {"mobilesdk": mobilesdk},
            "container", 
            (cmp) => { 
                console.log('component created');
            });
        });
        
    },
    (error) => {
        console.log("Auth failed: " + error); 
    }
    );
</script>
</apex:page>